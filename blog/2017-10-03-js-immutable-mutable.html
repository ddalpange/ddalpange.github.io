<!DOCTYPE html><html lang="en" data-theme="retro"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/d71785f3ad35c274.css" data-precedence="next.js"/><link rel="preload" as="style" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css"/><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-XR7V7MF96T"/><title>자바스크립트 불변과 가변</title><meta name="description" content="&lt;p&gt;참조타입, 원시타입, 불변형, 가변형 등 자료형의 차이에 대해 알아봅시다.&lt;/p&gt;
"/><link rel="author" href="https://github.io/ddalpange"/><meta name="author" content="ddalpange"/><meta name="keywords" content="Javascript"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="any"/><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" nomodule=""></script></head><body class="flex flex-col items-center h-[100svh]"><div class="w-full max-w-3xl flex-grow"><div class="navbar bg-base-100"><div class="flex-1"><a class="p-2 hover:underline md:text-2xl font-bold flex gap-4 items-center" href="/">Yozzing Blog</a></div><div class="flex-none"><div class="tabs"><a class="tab" href="/engineering">엔지니어링</a><a class="tab" href="/essay">에세이</a><a class="tab" href="https://github.com/ddalpange"><div class="avatar"><div class="w-8 rounded-full"><img src="/blog/images/profile.jpeg"/></div></div></a></div></div></div><div class="p-4 pb-10"><article class="prose"><h1>자바스크립트 불변과 가변</h1><caption>2017/10/03</caption><div><p>참조타입, 원시타입, 불변형, 가변형 등 자료형의 차이에 대해 알아봅시다.</p>
<h4>참조타입, 원시타입? 불변형, 가변형?</h4>
<h5>서론</h5>
<p>포인트 관련 항목 페이지를 수정하면서 이상한 일이 일어났습니다.</p>
<p>사용자가 원하는 날짜만을 이용하여 필터링을 하던 도중, 필터링한 데이터를 보여주고</p>
<p>전체데이터를 다시 보여주지 않고 있었습니다.</p>
<p>그 문제는 필터링한 변수와 원본 데이터 변수의 포인터가 서로 같은곳을 바라보고 있어</p>
<p>원본데이터 자체를 수정하고 있었던 것이었습니다.</p>
<p>이 문제를 해결하기 위하여 더 자세히 알아봅시다.</p>
<h5>알아봅시다.</h5>
<p>자바스크립트의 변수 타입을 불변형과 가변형으로 나눠 보겠습니다.</p>
<p>원시타입, 참조타입으로 나누기도 하지만, 개념을 따져보면 전부 비슷비슷한 말들입니다.</p>
<h5>불변형(Primary Type).</h5>
<ol>
<li>
<p>값을 변경할 수 없다.</p>
</li>
<li>
<p>String, Number, Boolean</p>
</li>
<li>
<p>값을 변경하기 위하여 다음의 과정을 거친다.</p>
<ul>
<li>새로운 인스턴스를 생성한다.</li>
<li>기존의 인스턴스의 포인터를 지운다.</li>
<li>포인터에 새로운 인스턴스의 주소를 할당한다.</li>
</ul>
</li>
<li>
<p>null과 undefined는 숫자도 문자도 불리언 값도 아닌 독립적인 값에 속한다.</p>
</li>
</ol>
<h5>테스트 해봅시다.</h5>
<pre><code>let StringExample = new String('맛있는 초꼬렛');

stringExample.replace('맛있는', '맛없는');

console.log(stringExample);
</code></pre>
<p>다음의 결과값은 무엇이 나올까요?</p>
<p>여러분께서는 <strong>맛없는</strong> 초꼬렛을 예상하셨겠지만,</p>
<p>답은 <strong>맛있는</strong> 초꼬렛입니다. 풀이를 한번 보죠.</p>
<p><img src="http://ddalpange.github.io/images/immutable1.png" alt="immutable1"></p>
<p>불변객체(String, Number, Boolean) 등은 그 자체가 값이기 때문에 값을 바꿀 수 없습니다.</p>
<p>즉 사용자가 볼때 값이 변하는 것은 새로운 인스턴스(값)을 생성하고 포인터를 재할당하는 것 뿐입니다.</p>
<p>위의 예제에서는 포인터를 재할당하지 않았음으로 stringExample의 값이 바뀌지 않았습니다.</p>
<p>따라서 <em><strong>let stringExample2 = stringExample</strong></em> 이라는 명령어를 실행할 때.</p>
<p><strong>객체와 인스턴스의 관계가 1:1로 형성됩니다.</strong></p>
<h5>가변형(Object Type).</h5>
<ol>
<li>
<p>값을 변경할 수 있다.</p>
</li>
<li>
<p>Array, List, Map</p>
</li>
<li>
<p>값을 변경할 때 인스턴스 자체가 변한다.</p>
</li>
</ol>
<h5>테스트 해봅시다.</h5>
<pre><code>let arrayExample = new Array("IU", "YouAndMe");

let arrayExample2 = arrayExample;

arrayExample[1] = "ABCDEFG";

console.log('1 ->', arrayExample);
console.log('2 ->', arrayExample2);
</code></pre>
<p>다음의 결과값은 무엇이 나올까요?</p>
<p>1 -> IU ABCDEFG</p>
<p>2 -> IU ABCDEFG</p>
<p><img src="http://ddalpange.github.io/images/immutable2.png" alt="immutable2"></p>
<p>가변객체(Array, List, Map) 등은 값을 변경할 때 기존 변수가 바라보던 인스턴스 자체의 값을 변경합니다.</p>
<p>따라서 <em><strong>arrayExample = arrayExample2</strong></em> 명령을 실행한다면</p>
<p>두 변수가 같은 인스턴스를 바라보는 2 : 1 의 관계를 형성하게 됩니다.</p>
<p>따라서 하나의 변수에 값을 변경하고자 했을 때 다른 변수의 값도 함께 변화합니다.</p>
<p><strong>객체와 인스턴스의 관계가 n:1로 형성됩니다.</strong></p>
<h4>immutable.js</h4>
<ul>
<li>
<ol>
<li>페이스북에서 배포한 자바스크립트 라이브러리입니다.</li>
</ol>
</li>
<li></li>
</ul>
<ol start="2">
<li>기존의 가변형 객체였던 Map, List 등을 불변형으로 쓸 수 있게 해줍니다.</li>
</ol>
<pre><code>let immutableMap = Immutable.Map({a:10, b:20, c:30});

let immutableMap2 = immutableMap;

immutableMap.set('b', 50);

console.log(immutableMap);
console.log(immutableMap2);
</code></pre>
<p>다음의 결과값은 무엇이 나올까요 ?</p>
<p>1 -> "10", "20", "30"</p>
<p>2 -> "10", "20", "30"</p>
<p><img src="http://ddalpange.github.io/images/immutable3.png" alt="immutable3"></p>
<p>객체의 값이 변경될 때마다 새로운 인스턴스를 생성합니다.</p>
<p><strong>객체와 인스턴스의 관계가 1:1로 형성됩니다.</strong></p>
<h4>정리.</h4>
<ol>
<li>
<p>Front에서는 사용자에게 보여줄 값과, 실제 데이터값을 분리할 필요가 있다.</p>
</li>
<li>
<p>shouldComponentUpdate같은 중요한 메소드를 사용할 때, 기준이 되는 변수가 함수 A,B를 거쳐왔는지 A,C를 거쳐왔는지 장담할 수 없다.</p>
</li>
<li>
<p>객체 배열을 Shallow copy 해버린다면 각각의 데이터에 독립성을 보장할 수 없다.</p>
</li>
<li>
<p>Immutable.js, cloneObject 등 Deep copy를 하게된다면 데이터의 독립성을 보장하며, 명시적이며, 유지보수를 쉽게 할 수 있다.</p>
</li>
</ol>
</div></article></div></div><script src="/_next/static/chunks/webpack-1b75aaef18416899.js" async=""></script><script src="/_next/static/chunks/0b7c6ed9-5895ea2b955a8219.js" async=""></script><script src="/_next/static/chunks/474-2bfbc4a0bef14471.js" async=""></script><script src="/_next/static/chunks/main-app-658fb0ddf7baceee.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"0:\"$L1\"\n"])</script><script>self.__next_f.push([1,"2:I{\"id\":\"9638\",\"name\":\"\",\"chunks\":[\"272:webpack-1b75aaef18416899\",\"776:0b7c6ed9-5895ea2b955a8219\",\"474:474-2bfbc4a0bef14471\"],\"async\":false}\n4:I{\"id\":\"3644\",\"name\":\"\",\"chunks\":[\"272:webpack-1b75aaef18416899\",\"776:0b7c6ed9-5895ea2b955a8219\",\"474:474-2bfbc4a0bef14471\"],\"async\":false}\n6:I{\"id\":\"2070\",\"name\":\"\",\"chunks\":[\"131:131-b649a46ff1b8d8bb\",\"185:app/layout-77153d09ec71e1b8\"],\"async\":false}\n7:I{\"id\":\"7131\",\"name\":\"\",\"chunks\":[\"131:131-b649a46ff1b8d8bb\",\"931:app/page-d55a3db7a3ed8315\"],\"async\":false}\n8:I{"])</script><script>self.__next_f.push([1,"\"id\":\"830\",\"name\":\"\",\"chunks\":[\"272:webpack-1b75aaef18416899\",\"776:0b7c6ed9-5895ea2b955a8219\",\"474:474-2bfbc4a0bef14471\"],\"async\":false}\n9:I{\"id\":\"2079\",\"name\":\"\",\"chunks\":[\"272:webpack-1b75aaef18416899\",\"776:0b7c6ed9-5895ea2b955a8219\",\"474:474-2bfbc4a0bef14471\"],\"async\":false}\n"])</script><script>self.__next_f.push([1,"1:[\"$\",\"$L2\",null,{\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/blog/2017-10-03-js-immutable-mutable\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"2017-10-03-js-immutable-mutable\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"2017-10-03-js-immutable-mutable\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":\"$L3\",\"globalErrorComponent\":\"$4\",\"notFound\":[\"$@5\",[\"$\",\"html\",null,{\"lang\":\"en\",\"data-theme\":\"retro\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"type\":\"text/css\",\"href\":\"https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css\"}]}],[\"$\",\"body\",null,{\"className\":\"flex flex-col items-center h-[100svh]\",\"children\":[[\"$\",\"$L6\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-XR7V7MF96T\",\"strategy\":\"afterInteractive\"}],[\"$\",\"$L6\",null,{\"id\":\"google-analytics\",\"strategy\":\"afterInteractive\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){window.dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n\\n          gtag('config', 'G-XR7V7MF96T');\\n        \"}],[\"$\",\"div\",null,{\"className\":\"w-full max-w-3xl flex-grow\",\"children\":[[\"$\",\"div\",null,{\"className\":\"navbar bg-base-100\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"p-2 hover:underline md:text-2xl font-bold flex gap-4 items-center\",\"href\":\"/\",\"children\":\"Yozzing Blog\"}]}],[\"$\",\"div\",null,{\"className\":\"flex-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"tabs\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"tab\",\"href\":\"/engineering\",\"children\":\"엔지니어링\"}],[\"$\",\"$L7\",null,{\"className\":\"tab\",\"href\":\"/essay\",\"children\":\"에세이\"}],[\"$\",\"a\",null,{\"className\":\"tab\",\"href\":\"https://github.com/ddalpange\",\"children\":[\"$\",\"div\",null,{\"className\":\"avatar\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-8 rounded-full\",\"children\":[\"$\",\"img\",null,{\"src\":\"/blog/images/profile.jpeg\"}]}]}]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"p-4 pb-10\",\"children\":[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]}]]}]]}]]}]],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"data-theme\":\"retro\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"type\":\"text/css\",\"href\":\"https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css\"}]}],[\"$\",\"body\",null,{\"className\":\"flex flex-col items-center h-[100svh]\",\"children\":[[\"$\",\"$L6\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-XR7V7MF96T\",\"strategy\":\"afterInteractive\"}],[\"$\",\"$L6\",null,{\"id\":\"google-analytics\",\"strategy\":\"afterInteractive\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){window.dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n\\n          gtag('config', 'G-XR7V7MF96T');\\n        \"}],[\"$\",\"div\",null,{\"className\":\"w-full max-w-3xl flex-grow\",\"children\":[[\"$\",\"div\",null,{\"className\":\"navbar bg-base-100\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":[\"$\",\"$L7\",null,{\"className\":\"p-2 hover:underline md:text-2xl font-bold flex gap-4 items-center\",\"href\":\"/\",\"children\":\"Yozzing Blog\"}]}],[\"$\",\"div\",null,{\"className\":\"flex-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"tabs\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"tab\",\"href\":\"/engineering\",\"children\":\"엔지니어링\"}],[\"$\",\"$L7\",null,{\"className\":\"tab\",\"href\":\"/essay\",\"children\":\"에세이\"}],[\"$\",\"a\",null,{\"className\":\"tab\",\"href\":\"https://github.com/ddalpange\",\"children\":[\"$\",\"div\",null,{\"className\":\"avatar\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-8 rounded-full\",\"children\":[\"$\",\"img\",null,{\"src\":\"/blog/images/profile.jpeg\"}]}]}]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"p-4 pb-10\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",[\"slug\",\"2017-10-03-js-immutable-mutable\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$La\",\"$@b\"],\"segment\":\"__PAGE__?{\\\"slug\\\":\\\"2017-10-03-js-immutable-mutable\\\"}\"}}],\"segment\":[\"slug\",\"2017-10-03-js-immutable-mutable\",\"d\"]}}],\"segment\":\"blog\"}}]}]]}]]}]]}],\"$@c\"]}]\n"])</script><script>self.__next_f.push([1,"5:[null,null,[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d71785f3ad35c274.css\",\"precedence\":\"next.js\"}]]]\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"article\",null,{\"className\":\"prose\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"자바스크립트 불변과 가변\"}],[\"$\",\"caption\",null,{\"children\":\"2017/10/03\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e참조타입, 원시타입, 불변형, 가변형 등 자료형의 차이에 대해 알아봅시다.\u003c/p\u003e\\n\u003ch4\u003e참조타입, 원시타입? 불변형, 가변형?\u003c/h4\u003e\\n\u003ch5\u003e서론\u003c/h5\u003e\\n\u003cp\u003e포인트 관련 항목 페이지를 수정하면서 이상한 일이 일어났습니다.\u003c/p\u003e\\n\u003cp\u003e사용자가 원하는 날짜만을 이용하여 필터링을 하던 도중, 필터링한 데이터를 보여주고\u003c/p\u003e\\n\u003cp\u003e전체데이터를 다시 보여주지 않고 있었습니다.\u003c/p\u003e\\n\u003cp\u003e그 문제는 필터링한 변수와 원본 데이터 변수의 포인터가 서로 같은곳을 바라보고 있어\u003c/p\u003e\\n\u003cp\u003e원본데이터 자체를 수정하고 있었던 것이었습니다.\u003c/p\u003e\\n\u003cp\u003e이 문제를 해결하기 위하여 더 자세히 알아봅시다.\u003c/p\u003e\\n\u003ch5\u003e알아봅시다.\u003c/h5\u003e\\n\u003cp\u003e자바스크립트의 변수 타입을 불변형과 가변형으로 나눠 보겠습니다.\u003c/p\u003e\\n\u003cp\u003e원시타입, 참조타입으로 나누기도 하지만, 개념을 따져보면 전부 비슷비슷한 말들입니다.\u003c/p\u003e\\n\u003ch5\u003e불변형(Primary Type).\u003c/h5\u003e\\n\u003col\u003e\\n\u003cli\u003e\\n\u003cp\u003e값을 변경할 수 없다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003eString, Number, Boolean\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e값을 변경하기 위하여 다음의 과정을 거친다.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e새로운 인스턴스를 생성한다.\u003c/li\u003e\\n\u003cli\u003e기존의 인스턴스의 포인터를 지운다.\u003c/li\u003e\\n\u003cli\u003e포인터에 새로운 인스턴스의 주소를 할당한다.\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003enull과 undefined는 숫자도 문자도 불리언 값도 아닌 독립적인 값에 속한다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003ch5\u003e테스트 해봅시다.\u003c/h5\u003e\\n\u003cpre\u003e\u003ccode\u003elet StringExample = new String('맛있는 초꼬렛');\\n\\nstringExample.replace('맛있는', '맛없는');\\n\\nconsole.log(stringExample);\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e다음의 결과값은 무엇이 나올까요?\u003c/p\u003e\\n\u003cp\u003e여러분께서는 \u003cstrong\u003e맛없는\u003c/strong\u003e 초꼬렛을 예상하셨겠지만,\u003c/p\u003e\\n\u003cp\u003e답은 \u003cstrong\u003e맛있는\u003c/strong\u003e 초꼬렛입니다. 풀이를 한번 보죠.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"http://ddalpange.github.io/images/immutable1.png\\\" alt=\\\"immutable1\\\"\u003e\u003c/p\u003e\\n\u003cp\u003e불변객체(String, Number, Boolean) 등은 그 자체가 값이기 때문에 값을 바꿀 수 없습니다.\u003c/p\u003e\\n\u003cp\u003e즉 사용자가 볼때 값이 변하는 것은 새로운 인스턴스(값)을 생성하고 포인터를 재할당하는 것 뿐입니다.\u003c/p\u003e\\n\u003cp\u003e위의 예제에서는 포인터를 재할당하지 않았음으로 stringExample의 값이 바뀌지 않았습니다.\u003c/p\u003e\\n\u003cp\u003e따라서 \u003cem\u003e\u003cstrong\u003elet stringExample2 = stringExample\u003c/strong\u003e\u003c/em\u003e 이라는 명령어를 실행할 때.\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e객체와 인스턴스의 관계가 1:1로 형성됩니다.\u003c/strong\u003e\u003c/p\u003e\\n\u003ch5\u003e가변형(Object Type).\u003c/h5\u003e\\n\u003col\u003e\\n\u003cli\u003e\\n\u003cp\u003e값을 변경할 수 있다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003eArray, List, Map\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e값을 변경할 때 인스턴스 자체가 변한다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003ch5\u003e테스트 해봅시다.\u003c/h5\u003e\\n\u003cpre\u003e\u003ccode\u003elet arrayExample = new Array(\\\"IU\\\", \\\"YouAndMe\\\");\\n\\nlet arrayExample2 = arrayExample;\\n\\narrayExample[1] = \\\"ABCDEFG\\\";\\n\\nconsole.log('1 -\u003e', arrayExample);\\nconsole.log('2 -\u003e', arrayExample2);\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e다음의 결과값은 무엇이 나올까요?\u003c/p\u003e\\n\u003cp\u003e1 -\u003e IU ABCDEFG\u003c/p\u003e\\n\u003cp\u003e2 -\u003e IU ABCDEFG\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"http://ddalpange.github.io/images/immutable2.png\\\" alt=\\\"immutable2\\\"\u003e\u003c/p\u003e\\n\u003cp\u003e가변객체(Array, List, Map) 등은 값을 변경할 때 기존 변수가 바라보던 인스턴스 자체의 값을 변경합니다.\u003c/p\u003e\\n\u003cp\u003e따라서 \u003cem\u003e\u003cstrong\u003earrayExample = arrayExample2\u003c/strong\u003e\u003c/em\u003e 명령을 실행한다면\u003c/p\u003e\\n\u003cp\u003e두 변수가 같은 인스턴스를 바라보는 2 : 1 의 관계를 형성하게 됩니다.\u003c/p\u003e\\n\u003cp\u003e따라서 하나의 변수에 값을 변경하고자 했을 때 다른 변수의 값도 함께 변화합니다.\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e객체와 인스턴스의 관계가 n:1로 형성됩니다.\u003c/strong\u003e\u003c/p\u003e\\n\u003ch4\u003eimmutable.js\u003c/h4\u003e\\n\u003cul\u003e\\n\u003cli\u003e\\n\u003col\u003e\\n\u003cli\u003e페이스북에서 배포한 자바스크립트 라이브러리입니다.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003col start=\\\"2\\\"\u003e\\n\u003cli\u003e기존의 가변형 객체였던 Map, List 등을 불변형으로 쓸 수 있게 해줍니다.\u003c/li\u003e\\n\u003c/ol\u003e\\n\u003cpre\u003e\u003ccode\u003elet immutableMap = Immutable.Map({a:10, b:20, c:30});\\n\\nlet immutableMap2 = immutableMap;\\n\\nimmutableMap.set('b', 50);\\n\\nconsole.log(immutableMap);\\nconsole.log(immutableMap2);\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e다음의 결과값은 무엇이 나올까요 ?\u003c/p\u003e\\n\u003cp\u003e1 -\u003e \\\"10\\\", \\\"20\\\", \\\"30\\\"\u003c/p\u003e\\n\u003cp\u003e2 -\u003e \\\"10\\\", \\\"20\\\", \\\"30\\\"\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=\\\"http://ddalpange.github.io/images/immutable3.png\\\" alt=\\\"immutable3\\\"\u003e\u003c/p\u003e\\n\u003cp\u003e객체의 값이 변경될 때마다 새로운 인스턴스를 생성합니다.\u003c/p\u003e\\n\u003cp\u003e\u003cstrong\u003e객체와 인스턴스의 관계가 1:1로 형성됩니다.\u003c/strong\u003e\u003c/p\u003e\\n\u003ch4\u003e정리.\u003c/h4\u003e\\n\u003col\u003e\\n\u003cli\u003e\\n\u003cp\u003eFront에서는 사용자에게 보여줄 값과, 실제 데이터값을 분리할 필요가 있다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003eshouldComponentUpdate같은 중요한 메소드를 사용할 때, 기준이 되는 변수가 함수 A,B를 거쳐왔는지 A,C를 거쳐왔는지 장담할 수 없다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e객체 배열을 Shallow copy 해버린다면 각각의 데이터에 독립성을 보장할 수 없다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003eImmutable.js, cloneObject 등 Deep copy를 하게된다면 데이터의 독립성을 보장하며, 명시적이며, 유지보수를 쉽게 할 수 있다.\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ol\u003e\\n\"}}]]}]\n"])</script><script>self.__next_f.push([1,"b:[null,null,[]]\nc:[null,null,[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d71785f3ad35c274.css\",\"precedence\":\"next.js\"}]]]\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"자바스크립트 불변과 가변\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"\u003cp\u003e참조타입, 원시타입, 불변형, 가변형 등 자료형의 차이에 대해 알아봅시다.\u003c/p\u003e\\n\"}],null,[[[\"$\",\"link\",null,{\"rel\":\"author\",\"href\":\"https://github.io/ddalpange\"}],[\"$\",\"meta\",null,{\"name\":\"author\",\"content\":\"ddalpange\"}]]],null,null,[\"$\",\"meta\",null,{\"name\":\"keywords\",\"content\":\"Javascript\"}],null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>