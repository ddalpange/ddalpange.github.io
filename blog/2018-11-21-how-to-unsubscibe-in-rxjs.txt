0:[[["",{"children":["blog",{"children":[["slug","2018-11-21-how-to-unsubscibe-in-rxjs","d"],{"children":["__PAGE__?{\"slug\":\"2018-11-21-how-to-unsubscibe-in-rxjs\"}",{}]}]}]},"$undefined","$undefined",true],"$L1","$L2"]]
3:I{"id":"2070","name":"","chunks":["131:131-b649a46ff1b8d8bb","185:app/layout-77153d09ec71e1b8"],"async":false}
4:I{"id":"7131","name":"","chunks":["131:131-b649a46ff1b8d8bb","931:app/page-d55a3db7a3ed8315"],"async":false}
5:I{"id":"830","name":"","chunks":["272:webpack-1b75aaef18416899","776:0b7c6ed9-5895ea2b955a8219","474:474-2bfbc4a0bef14471"],"async":false}
6:I{"id":"2079","name":"","chunks":["272:webpack-1b75aaef18416899","776:0b7c6ed9-5895ea2b955a8219","474:474-2bfbc4a0bef14471"],"async":false}
1:[["$","html",null,{"lang":"en","data-theme":"retro","children":[["$","head",null,{"children":["$","link",null,{"rel":"stylesheet","type":"text/css","href":"https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css"}]}],["$","body",null,{"className":"flex flex-col items-center h-[100svh]","children":[["$","$L3",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-XR7V7MF96T","strategy":"afterInteractive"}],["$","$L3",null,{"id":"google-analytics","strategy":"afterInteractive","children":"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){window.dataLayer.push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', 'G-XR7V7MF96T');\n        "}],["$","div",null,{"className":"w-full max-w-3xl flex-grow","children":[["$","div",null,{"className":"navbar bg-base-100","children":[["$","div",null,{"className":"flex-1","children":["$","$L4",null,{"className":"p-2 hover:underline md:text-2xl font-bold flex gap-4 items-center","href":"/","children":"Yozzing Blog"}]}],["$","div",null,{"className":"flex-none","children":["$","div",null,{"className":"tabs","children":[["$","$L4",null,{"className":"tab","href":"/engineering","children":"엔지니어링"}],["$","$L4",null,{"className":"tab","href":"/essay","children":"에세이"}],["$","a",null,{"className":"tab","href":"https://github.com/ddalpange","children":["$","div",null,{"className":"avatar","children":["$","div",null,{"className":"w-8 rounded-full","children":["$","img",null,{"src":"/blog/images/profile.jpeg"}]}]}]}]]}]}]]}],["$","div",null,{"className":"p-4 pb-10","children":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$","$L5",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children",["slug","2018-11-21-how-to-unsubscibe-in-rxjs","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L6",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":false,"childProp":{"current":["$L7","$@8"],"segment":"__PAGE__?{\"slug\":\"2018-11-21-how-to-unsubscibe-in-rxjs\"}"}}],"segment":["slug","2018-11-21-how-to-unsubscibe-in-rxjs","d"]}}],"segment":"blog"}}]}]]}]]}]]}],"$@9"]
2:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"Rxjs 구독을 취소하는 여러가지 방법"}],["$","meta",null,{"name":"description","content":"<p><strong>Angular</strong>는 기본적으로 <strong>RxJS</strong>를 사용합니다. <strong>RxJS</strong>를 사용할때 스트림을 연 컴포넌트가 없어진다 해도 열린 스트림은 닫히지 않기 때문에 메모리를 계속 먹습니다. 그렇기 때문에 <strong>Unsubscribe</strong>를 호출하여 스트림을 닫아주어야하는데요. 매번 <strong>Unsubscribe</strong>를 하기는 너무나 귀찮음으로 스트림 구독을 해제할 수 있는 다양한 방법을 소개합니다.\n참고로 <strong>HttpClient</strong>, <strong>Router</strong> 등 앵귤러 내부에서 제공하는 기능들은 따로 <strong>Unsubscribe</strong>를 하지 않아도 자동으로 구독을 해제합니다.</p>\n"}],null,[[["$","link",null,{"rel":"author","href":"https://github.io/ddalpange"}],["$","meta",null,{"name":"author","content":"ddalpange"}]]],null,null,["$","meta",null,{"name":"keywords","content":"RxJS,Unsubscribe,Stream,Event"}],null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]],[],null]]
7:["$","article",null,{"className":"prose","children":[["$","h1",null,{"children":"Rxjs 구독을 취소하는 여러가지 방법"}],["$","caption",null,{"children":"2018/11/21"}],["$","div",null,{"dangerouslySetInnerHTML":{"__html":"<p><strong>Angular</strong>는 기본적으로 <strong>RxJS</strong>를 사용합니다. <strong>RxJS</strong>를 사용할때 스트림을 연 컴포넌트가 없어진다 해도 열린 스트림은 닫히지 않기 때문에 메모리를 계속 먹습니다. 그렇기 때문에 <strong>Unsubscribe</strong>를 호출하여 스트림을 닫아주어야하는데요. 매번 <strong>Unsubscribe</strong>를 하기는 너무나 귀찮음으로 스트림 구독을 해제할 수 있는 다양한 방법을 소개합니다.\n참고로 <strong>HttpClient</strong>, <strong>Router</strong> 등 앵귤러 내부에서 제공하는 기능들은 따로 <strong>Unsubscribe</strong>를 하지 않아도 자동으로 구독을 해제합니다.</p>\n<h2>Async Pipe</h2>\n<pre><code>export class SomeComponent implements OnInit {\n  list$: Observable&#x3C;Item[]>\n  ngOnInit(): void {\n    this.list$ = this.api.getList()\n  }\n}\n</code></pre>\n<pre><code>&#x3C;ng-container *ngIf=\"list$ | async as list; else loadingTemplate\">\n  &#x3C;app-table [list]=\"list\" [keys]=\"keys\">&#x3C;/app-table>\n&#x3C;/ng-container>\n</code></pre>\n<p><strong>Angular</strong> 에서 제공하는 <strong>Async</strong> pipe를 사용하는 방법입니다.\n<strong>Async</strong> pipe가 알아서 Observable을 구독하고 해지하기 때문에 사용자는 별도로 신경써줄 필요가 없죠. 다만 이 방법은 두가지의 문제가 있습니다.</p>\n<pre><code>export class SomeComponent implements OnInit {\n  list$: Observable&#x3C;Item[]>\n  ngOnInit(): void {\n    this.list$ = this.api.getList().pipe(tap(list => console.log(list)))\n  }\n}\n</code></pre>\n<p>첫번째로 스크립트내에서 데이터를 쓰기가 귀찮습니다. html에서 event를 통해서 받거나, 아니면 tap operator를 이용해 후킹하여 데이터를 저장해야합니다.</p>\n<pre><code>&#x3C;section>\n  &#x3C;ng-container *ngIf=\"list$ | async as list; else loadingTemplate\">\n    &#x3C;app-table [list]=\"list\" [keys]=\"keys\">&#x3C;/app-table>\n  &#x3C;/ng-container>\n&#x3C;/section>\n&#x3C;footer class=\"another\">\n  &#x3C;!-- Error -->\n  &#x3C;pre [innerHTML]=\"list | json\">&#x3C;/pre>\n&#x3C;/footer>\n</code></pre>\n<p>list를 선언한 안쪽이 아닌 바깥쪽에서는 list에 접근할 수가 없습니다.\nasync pipe를 여러번 사용하면 api 요청도 여러번 날라가기 때문에 미리 마크업 구조를 잡고 가야합니다.</p>\n<h2>TakeUntill</h2>\n<pre><code>export class SomeComponent implements OnInit, OnDestroy {\n  list: Item[]\n  list$: Observable&#x3C;Item[]>\n  private unsubscribe$ = new Subject()\n  ngOnInit(): void {\n    this.list$ = this.api\n      .getList()\n      .pipe(takeUntill(this.unsubscribe$))\n      .subscribe(list => {\n        this.list = list\n      })\n  }\n  ngOnDestroy(): void {\n    this.unsubscribe$.next()\n    this.unsubscribe$.complete()\n  }\n}\n</code></pre>\n<p>인자로 넣어준 Observable (Subject)가 값을 방출하거나 종료할 경우 구독을 해제합니다.</p>\n<h2>TakeWhile</h2>\n<pre><code>export class SomeComponent implements OnInit, OnDestroy {\n  list: Item[]\n  list$: Observable&#x3C;Item[]>\n  private subscribing = true\n  ngOnInit(): void {\n    this.list$ = this.api\n      .getList()\n      .pipe(takeWhile(this.subscribing))\n      .subscribe(list => {\n        this.list = list\n      })\n  }\n  ngOnDestroy(): void {\n    this.subscribing = false\n  }\n}\n</code></pre>\n<p>인자로 넣어준 Boolean 값이 false일 경우 구독이 일어나지 않습니다.</p>\n<h2>Take</h2>\n<pre><code>export class SomeComponent implements OnInit {\n  list: Item[]\n  list$: Observable&#x3C;Item[]>\n\n  ngOnInit(): void {\n    this.list$ = this.api\n      .getList()\n      .pipe(take(1))\n      .subscribe(list => {\n        this.list = list\n      })\n  }\n}\n</code></pre>\n<p>인자로 넣어준 숫자만큼 <strong>publish</strong>가 일어나면 구독을 종료합니다.</p>\n<h2>First</h2>\n<pre><code>export class SomeComponent implements OnInit {\n  list: Item[]\n  list$: Observable&#x3C;Item[]>\n\n  ngOnInit(): void {\n    this.list$ = this.api\n      .getList()\n      .pipe(first())\n      .subscribe(list => {\n        this.list = list\n      })\n  }\n}\n</code></pre>\n<p>첫번째 구독만 받는 operator입니다.\n인자로 expression을 넘겨줄 수 있습니다.</p>\n<p>이 밖에도 효율적인 <strong>Unsubscribe</strong> 방법이 있다면 알려주세요 !!</p>\n"}}]]}]
8:[null,null,[]]
9:[null,null,[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d71785f3ad35c274.css","precedence":"next.js"}]]]
